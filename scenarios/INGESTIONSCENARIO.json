{
  "projectKey": "TRYDSS",
  "id": "INGESTIONSCENARIO",
  "type": "step_based",
  "name": "Ingestion Scenario",
  "active": false,
  "creationTag": {
    "versionNumber": 12,
    "lastModifiedBy": {
      "login": "admin"
    },
    "lastModifiedOn": 1651750953413
  },
  "versionTag": {
    "versionNumber": 13,
    "lastModifiedBy": {
      "login": "admin"
    },
    "lastModifiedOn": 1651750958530
  },
  "checklists": {
    "checklists": []
  },
  "delayedTriggersBehavior": {
    "delayWhileRunning": true,
    "squashDelayedTriggers": true,
    "suppressTriggersWhileRunning": true
  },
  "tags": [],
  "triggers": [],
  "reporters": [],
  "params": {
    "steps": [
      {
        "id": "runmacro_pyrunnable_neo4j_neo4j-macro",
        "type": "runnable",
        "name": "Step #1 create constraints",
        "runConditionType": "RUN_IF_STATUS_MATCH",
        "runConditionStatuses": [
          "SUCCESS",
          "WARNING"
        ],
        "runConditionExpression": "",
        "resetScenarioStatus": false,
        "delayBetweenRetries": 10,
        "maxRetriesOnFail": 0,
        "params": {
          "runnableType": "pyrunnable_neo4j_neo4j-macro",
          "config": {
            "neo4j_server_configuration": {
              "mode": "PRESET",
              "name": "neo4j conf"
            },
            "cypherQuery": "CREATE CONSTRAINT `constraint_13301bcd` IF NOT EXISTS FOR (n:`Country`) REQUIRE (n.`COUNTRY`) IS UNIQUE;\nCREATE CONSTRAINT `constraint_2765ce2e` IF NOT EXISTS FOR (n:`SubRegion`) REQUIRE (n.`SUB_REGION`) IS UNIQUE;\nCREATE CONSTRAINT `constraint_5d3a0e31` IF NOT EXISTS FOR (n:`Region`) REQUIRE (n.`REGION`) IS UNIQUE;\nCREATE CONSTRAINT `constraint_a6a38a0e` IF NOT EXISTS FOR (n:`Country`) REQUIRE (n.`LWIN`) IS UNIQUE;\nCREATE CONSTRAINT `constraint_bd00f9d8` IF NOT EXISTS FOR (n:`Producer`) REQUIRE (n.`PRODUCER_NAME`) IS UNIQUE;\nCREATE CONSTRAINT `constraint_e95a4fe8` IF NOT EXISTS FOR (n:`Wine`) REQUIRE (n.`LWIN`) IS UNIQUE;\nCREATE CONSTRAINT `constraint_f9ef3df0` IF NOT EXISTS FOR (n:`Site`) REQUIRE (n.`SITE`) IS UNIQUE;\nCREATE CONSTRAINT `constraint_name` IF NOT EXISTS FOR (n:`Person`) REQUIRE (n.`name`) IS UNIQUE;"
          },
          "adminConfig": {},
          "proceedOnFailure": false
        }
      },
      {
        "id": "runmacro_pyrunnable_neo4j_neo4j-macro_1",
        "type": "runnable",
        "name": "Step #2 create indexes",
        "runConditionType": "RUN_IF_STATUS_MATCH",
        "runConditionStatuses": [
          "SUCCESS",
          "WARNING"
        ],
        "runConditionExpression": "",
        "resetScenarioStatus": false,
        "delayBetweenRetries": 10,
        "maxRetriesOnFail": 0,
        "params": {
          "runnableType": "pyrunnable_neo4j_neo4j-macro",
          "config": {
            "neo4j_server_configuration": {
              "mode": "PRESET",
              "name": "neo4j conf"
            },
            "cypherQuery": "CREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.COLOUR);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.SUB_TYPE);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.COUNTRY);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.REGION);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.WINE);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.DESIGNATION);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.DISPLAY_NAME);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.PRODUCER_NAME);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.TYPE);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.VINTAGE_CONFIG);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.STATUS);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.CLASSIFICATION);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.SUB_REGION);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.PRODUCER_TITLE);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.REFERENCE);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.FINAL_VINTAGE);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.FIRST_VINTAGE);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.SITE);\nCREATE INDEX IF NOT EXISTS FOR (wine:Wine) ON (wine.PARCEL);"
          },
          "adminConfig": {},
          "proceedOnFailure": false
        }
      },
      {
        "id": "build_0_true_f_dsbjV9IB",
        "type": "build_flowitem",
        "name": "Step #3 Populate graph of wines database",
        "runConditionType": "RUN_IF_STATUS_MATCH",
        "runConditionStatuses": [
          "SUCCESS",
          "WARNING"
        ],
        "runConditionExpression": "",
        "resetScenarioStatus": false,
        "delayBetweenRetries": 10,
        "maxRetriesOnFail": 0,
        "params": {
          "builds": [
            {
              "type": "MANAGED_FOLDER",
              "itemId": "dsbjV9IB",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "Fhx4Qgro",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "Ob7xI1cp",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "ThdYLov8",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "jkmRNCHP",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "xK7QUEr0",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "TviWmFBo",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "PtqZ98tr",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "UCjefWH8",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "CnFzrFqX",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "yi8q8OUv",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "cBr4uVID",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "C9DzIJbS",
              "partitionsSpec": ""
            },
            {
              "type": "MANAGED_FOLDER",
              "itemId": "uNtLJewu",
              "partitionsSpec": ""
            }
          ],
          "jobType": "RECURSIVE_FORCED_BUILD",
          "refreshHiveMetastore": true,
          "proceedOnFailure": false
        }
      }
    ]
  },
  "automationLocal": false,
  "customFields": {}
}